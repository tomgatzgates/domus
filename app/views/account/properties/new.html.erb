<h1>New Property</h1>

<%= form_for([:account, @property]) do |f| %>
  <% if @property.errors.any? %>
    <fieldset>
      <legend>Errors</legend>
      <div id="error_explanation">
        <h2>
          <%= pluralize(@property.errors.count, "error") %> prohibited this @property from being saved:
        </h2>

        <ul>
        <% @property.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    </fieldset>
  <% end %>

  <fieldset>
    <legend>Details</legend>
    <div class="field">
      <%= f.label :bedrooms %>
      <%= f.number_field :bedrooms, min: 0 %>
    </div>

    <div class="field">
      <%= f.label :bathrooms %>
      <%= f.number_field :bathrooms, min: 0 %>
    </div>

    <div class="field">
      <%= f.label :furnished %>
      <%= f.check_box :furnished %>
    </div>
  </fieldset>

  <fieldset>
    <legend>Address</legend>
    <div class="field">
      <%= f.fields_for :address do |a| %>
        <div class="field">
          <%= a.label :line_1 %>
          <%= a.text_field :line_1 %>
        </div>
        <div class="field">
          <%= a.label :line_2 %>
          <%= a.text_field :line_2 %>
        </div>
        <div class="field">
          <%= a.label :city %>
          <%= a.text_field :city %>
        </div>
        <div class="field">
          <%= a.label :province %>
          <%= a.select :province, Address::PROVINCES %>
        </div>
        <div class="field">
          <%= a.label :zip %>
          <%= a.text_field :zip %>
        </div>
      <% end %>
    </div>
  </fieldset>

  <div class="actions">
    <%= f.submit 'Save property' %>
  </div>
<% end %>
